<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Company Management</title>
    <link href="layout.css" rel="stylesheet" type="text/css">
    <link href="css/ui-lightness/jquery-ui-1.8.16.custom.css" rel="stylesheet" type="text/css">
    <link href="css/jquery.multiselect.css" rel="stylesheet" type="text/css">

    <script language="javascript" type="text/javascript" src="lib/jquery-1.6.4.js"></script>

    <script language="javascript" type="text/javascript" src="lib/jquery-ui-1.8.16.custom.min.js"></script>
    <script language="javascript" type="text/javascript" src="lib/jquery.multiselect.js"></script>
    <script language="javascript" type="text/javascript" src="lib/jquery.couch.js"></script>
    <script language="javascript" type="text/javascript" src="lib/couchDBhelpers.js"></script>
    <script language="javascript" type="text/javascript" src="dialogs.js"></script>
    
    <script language="javascript" type="text/javascript" src="lib/underscore.js"></script>
    <script language="javascript" type="text/javascript" src="lib/backbone.js"></script>
    <script language="javascript" type="text/javascript" src="lib/mustache.js"></script>
    <script language="javascript" type="text/javascript" src="lib/ICanHaz.js"></script>

    <script language="javascript" type="text/javascript" src="site.js"></script>

    <script language="javascript" type="text/javascript" src="lib/couch-backbone.js"></script>
    <script language="javascript" type="text/javascript" src="company management.js"></script>
    <script language="javascript" type="text/javascript" src="docRdy.js"></script> <!-- needs to go last -->
    
    <style>
      label, input { display:block; }
      input.text { margin-bottom:12px; width:95%; padding: .4em; }
      fieldset { padding:0; border:0; margin-top:25px; }
      h1 { font-size: 1.2em; margin: .6em 0; }
      div#users-contain { width: 350px; margin: 20px 0; }
      div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
      div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
      .ui-dialog .ui-state-error { padding: .3em; }
      .validateTips { border: 1px solid transparent; padding: 0.3em; }
    </style>

    <script id="option_TMP" type="text/html">
      <option value="{{value}}">{{label}}</option>
    </script>

    <script id="options_TMP1" type="text/html">
      {{#list}}
      <option value="{{name}}"
	      {{#selected}}
	      selected="true"
	      {{/selected}}
	      >{{name}}
      </option>
      {{/list}}
    </script>
    
    <script id="companiesTabel_TMP" type="text/html">
      <table border="1">
	<tr>
	  <th>Name</th>
	  <th>Operational Name</th>
	  <th># of Groups</th>
	  <th># of Stores</th>
	  <th># of Terminals</th>
	  <th>Creation Date</th>
	  <th>Detail</th>
	</tr>
	{{#list}}
	<tr><td><a href="#/company/{{_id}}">{{companyName}}</a>
	  </td><td>{{operationalname}}</td><td>{{group_num}}</td><td>{{user}}</td><td>{{password}}</td><td>{{creationdate}}</td>
	  <td>
	  <a href="./mainMenus.html"><button class="ui-state-default ui-corner-all">
		   <span class="ui-button-text">View</span>
		   </button></a>
		</td>
	  </tr>
	{{/list}}
      </table>
    </script>

    <script id="storesTabel_TMP" type="text/html">
      <table border="1">
	<tr>
	  <th>Name</th>
	  <th>Number</th>
	  <th>Group Name</th>
	  <th># of Terminals</th>
	  <th>Creation Date</th>
	  <th>Details</th>
	</tr>
	{{#list}}
	<tr><td><a href="#/company/{{companyName}}/stores/{{name}}">{{name}}</a><td>{{number}}</td>
	  </td><td>{{country}}</td><td>{{contact}}</td><td>{{creationdate}}</td>
	  <td>
	  <a href="./mainMenus.html"><button class="ui-state-default ui-corner-all">
		   <span class="ui-button-text">View</span>
		   </button></a>
		</td>
	  </tr>
	{{/list}}
      </table>
    </script>

   <script id="terminalsTabel_TMP" type="text/html">
      <table border="1">
	<tr>
	  <th>ID</th>
	  <th>Company Name</th>
	  <th>Group Name</th>
	  <th>Store Name</th>
	  <th>Installed</th>
	  <th>Creation Date</th>
	  <th>Detail</th>
	  
	</tr>
	{{#list}}
	<tr><td><a href="#/company/{{_id}}/stores/{{storeName}}/terminals/{{id}}">{{id}}</a></td><td>{{mobilePayment}}</td>
	  <td>{{debitPayment}}</td><td>{{creditPayment}}</td><td>{{installed}}</td><td>{{creationdate}}</td>
	  
	  <td>
	  	<a href="./mainMenus.html"><button class="ui-state-default ui-corner-all">
		   <span class="ui-button-text">View</span>
		   </button></a>
		</td>
	  
	  </tr>
	{{/list}}
      </table>
    </script>

    <script id="company_management_page_TMP" type="text/html">
      <h1>Company Management</h1>
      <div id="dialog-form" title="Create new Company">
	<p class="validateTips">All form fields are required.</p>
	<form>
	  <fieldset>
	    <label for="company-name">Company name</label>
	    <input type="text" name="company name" id="company-name" class="text ui-widget-content ui-corner-all" />
	    <label for="operationalname">Operational Name</label>
	    <input type="text" id="operationalname" value="" class="text ui-widget-content ui-corner-all" />
	    <label for="user">Master User ID</label>
	    <input type="text" name="user" id="user" class="text ui-widget-content ui-corner-all" />
	    <label for="password">Master Password</label>
	    <input type="password" name="password" id="password" value="" class="text ui-widget-content ui-corner-all" />
	    <dl>
	      <dt>Address</dt>
	      <dd>
		<label for="address.street0">Street 0</label>
		<input type="text" id="address.street0" class="text ui-widget-content ui-corner-all" />
		<label for="address.street1">Street 1</label>
		<input type="text" id="address.street1" class="text ui-widget-content ui-corner-all" />
		<label for="address.street2">Street 2</label>
		<input type="text" id="address.street2" class="text ui-widget-content ui-corner-all" />
		<label for="address.city">City</label>
		<input type="text" id="address.city" class="text ui-widget-content ui-corner-all" />
		<label for="address.province">State/Province</label>
		<input type="text" id="address.province" class="text ui-widget-content ui-corner-all" />
		<label for="address.country">Country</label>
		<input type="text" id="address.country" class="text ui-widget-content ui-corner-all" />
		<label for="address.postalcode">Postal code</label>
		<input type="text" id="address.postalcode" class="text ui-widget-content ui-corner-all" />
	      </dd>
	    </dl>
	    <dl>
	      <dt>Contact</dt>
	      <dd>
		<label for="contact.firstname">First Name</label>
		<input type="text" id="contact.firstname" class="text ui-widget-content ui-corner-all" />
		<label for="contact.lastname">Last Name</label>
		<input type="text" id="contact.lastname" class="text ui-widget-content ui-corner-all" />
		<label for="contact.website">Web site</label>
		<input type="text" id="contact.website" class="text ui-widget-content ui-corner-all" />
		<label for="contact.email">e-mail</label>
		<input type="text" id="contact.email" class="text ui-widget-content ui-corner-all" />
		<label for="contact.phone">phone</label>
		<input type="text" id="contact.phone" class="text ui-widget-content ui-corner-all" />
	      </dd>
	    </dl>


	  <!--
	    <label for="centrally-controlled-menus">Centrally Controlled Menus</label>
	    <input type="checkbox" name="centrally controlled menus" id="centrally-controlled-menus" value="" class="text ui-widget-content ui-corner-all" />
	  -->
	  </fieldset>
	</form>
      </div>
      <div id="companies"></div>
		<input type="button" id="create-company" value="make a new company" />
		<a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Back</span>
	   </button></a>
		<a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
		   <span class="ui-button-text">Menu</span>
		   </button></a>
	</script>	   

    <script id="store_management_page_TMP" type="text/html">
      <h1>Stores Management</h1>
      <div id="dialog-form" title="Create new Store">
	<p class="validateTips">All form fields are required.</p>
	<form>
	  <fieldset>
	  	<label for="store-name">Store name</label>
	    <input type="text" id="store-name" class="text ui-widget-content ui-corner-all" />
	    <label for="store-num">Store num</label>
	    <input type="text" id="store-num" class="text ui-widget-content ui-corner-all" />
	    <dl>
	      <dt>Address</dt>
	      <dd>
		    <label for="address.street0">Street 0</label>
			<input type="text" id="address.street0" class="text ui-widget-content ui-corner-all" />
			<label for="address.street1">Street 1</label>
			<input type="text" id="address.street1" class="text ui-widget-content ui-corner-all" />
			<label for="address.street2">Street 2</label>
			<input type="text" id="address.street2" class="text ui-widget-content ui-corner-all" />
			<label for="address.city">City</label>
			<input type="text" id="address.city" class="text ui-widget-content ui-corner-all" />
			<label for="address.province">State/Province</label>
			<input type="text" id="address.province" class="text ui-widget-content ui-corner-all" />
			<label for="address.country">Country</label>
			<input type="text" id="address.country" class="text ui-widget-content ui-corner-all" />
			<label for="address.postalcode">Postal code</label>
			<input type="text" id="address.postalcode" class="text ui-widget-content ui-corner-all" />
	      </dd>
	    </dl>
	    <dl>
		    <dt>Contact</dt>
		    <dd>
		    <label for="contact.firstname">First Name</label>
		    <input type="text" id="contact.firstname" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.lastname">Last Name</label>
		    <input type="text" id="contact.lastname" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.website">Web site</label>
		    <input type="text" id="contact.website" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.email">e-mail</label>
		    <input type="text" id="contact.email" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.phone">phone</label>
		    <input type="text" id="contact.phone" class="text ui-widget-content ui-corner-all" />
		    </dd>
	    </dl>
	    <label for="user">Master User ID</label>
	    <input type="text" name="user" id="user" class="text ui-widget-content ui-corner-all" />
	    <label for="password">Master Password</label>
	    <input type="password" name="password" id="password" value="" class="text ui-widget-content ui-corner-all" />
	  </fieldset>
	</form>
      </div>
      <div id="stores"></div>
      <input type="button" id="create-store" value="make a new store" />
      <a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Back</span>
	   </button></a>
      <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Menus</span>
	   </button></a>
      
    </script>

    <script id="terminal_management_page_TMP" type="text/html">
      <h1>Terminals Management</h1>
      <div id="dialog-form" title="Create new Terminal">
	<p class="validateTips">All form fields are required.</p>
	<form>
	  <fieldset>
	    <label for="terminal_id">Terminal ID</label>
	    <input type="text" id="terminal_id" class="text ui-widget-content ui-corner-all" />
	    <label for="areaCode">Area Code</label>
	    <input type="text" id="areaCode" class="text ui-widget-content ui-corner-all" />
	    <label for="postalCode">Postal Code</label>
	    <input type="text" id="postalCode" class="text ui-widget-content ui-corner-all" />
	    <label for="countryCode">Country Code</label>
	    <input type="text" id="countryCode" class="text ui-widget-content ui-corner-all" />
	    <label for="cityCode">City Code</label>
	    <input type="text" id="cityCode" class="text ui-widget-content ui-corner-all" />
	    <label for="storeCode">Store Code</label>
	    <input type="text" id="storeCode" class="text ui-widget-content ui-corner-all" />
	    <label for="companyCode">Company Code</label>
	    <input type="text" id="companyCode" class="text ui-widget-content ui-corner-all" />
	  </fieldset>
	</form>
      </div>
      <div id="terminals"></div>
      <input type="button" id="create-terminal" value="make a new terminal" />
      <a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	  <span class="ui-button-text">Back</span></button></a>
      <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	  <span class="ui-button-text">Menus</span></button></a>
    </script>


      <script id="modify_company_page_TMP" type="text/html">
	<table border="1">
	  <h1>Modify Company</h1>
	  <div>
	    <form>
	      <fieldset>
		{{#company}}
		<label for="company name">Company name</label>
		<input type="text" name="company name" id="company-name" value="{{companyName}}" class="text ui-widget-content ui-corner-all" disabled="true" />
		<dl>
		  <dt>Address</dt>
		  <dd>
		    {{#address}}
		    <label for="address.street0">Street 0</label>
		    <input type="text" id="address.street0" value="{{street0}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.street1">Street 1</label>
		    <input type="text" id="address.street1" value="{{street1}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.street2">Street 2</label>
		    <input type="text" id="address.street2" value="{{street2}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.city">City</label>
		    <input type="text" name="address.city" id="address.city" value="{{city}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.province">State/Province</label>
		    <input type="text" name="address.province" id="address.province" value="{{province}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.country">Country</label>
		    <input type="text" name="address.country" id="address.country" value="{{country}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.postalcode">Postal code</label>
		    <input type="text" name="address.postalcode" id="address.postalcode" value="{{postalcode}}" class="text ui-widget-content ui-corner-all"/>
		    {{/address}}
		  </dd>
		</dl>
		
		<dl>
		  <dt>Contact</dt>
		  <dd>
		    {{#contact}}
		    <label for="contact.firstname">First Name</label>
		    <input type="text" id="contact.firstname" value="{{firstname}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.lastname">Last Name</label>
		    <input type="text" id="contact.lastname" value="{{lastname}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.website">Web site</label>
		    <input type="text" id="contact.website" value="{{website}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.email">e-mail</label>
		    <input type="text" id="contact.email" value="{{email}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.phone">Phone</label>
		    <input type="text" id="contact.phone" value="{{phone}}" class="text ui-widget-content ui-corner-all" />
		    {{/contact}}
		  </dd>
		</dl>
		
		<label for="user">User Name</label>
		<input type="text" name="user" id="user" value="{{user}}" class="text ui-widget-content ui-corner-all" />
		<label for="password">Password</label>
		<input type="password" name="password" id="password" value="{{password}}" class="text ui-widget-content ui-corner-all" />
		<label for="operationalname">Operational Name</label>
	    <input type="text" id="operationalname" value="{{operationalname}}" class="text ui-widget-content ui-corner-all" />
		<!--<label for="centrally controlled menus">Centrally Controlled Menus</label>
	  	<input type="checkbox" name="centrally controlled menus" id="centrally-controlled-menus" {{#centrallyControlledMenus}}
  		       checked="true" {{/centrallyControlledMenus}} />
  		      -->
	      </fieldset>
	    </form>
	  </div>
	  <input type="button" class="ui-button ui-widget ui-state-default ui-corner-all" id="modify-company" value="Edit" />
		    
	  <a href="#/company/{{_id}}/stores"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
		   <span class="ui-button-text">Store Manager</span>
		   </button></a>
	  
	  <a href="#/company/{{_id}}/groups"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
		   <span class="ui-button-text">Group Manager</span>
		   </button></a>
		   
	   <a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Back</span>
	   </button></a>
	  <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Menus</span>
	   </button></a>
	  
	  {{/company}}
	</table>
      </script>   

      <script id="modify_store_page_TMP" type="text/html">
	<table border="1">
	  <h1>Modify Store</h1>
	  <div>
	    <form>
	      <fieldset>
		{{#store}}
		<label for="store-name">Store Name</label>
		<input type="text" id="store-name" value="{{name}}" class="text ui-widget-content ui-corner-all" disabled="true" />
		<label for="store-num">Store Number</label>
		<input type="text" id="store-num" value="{{number}}" class="text ui-widget-content ui-corner-all" />
		<dl>
		  <dt>Address</dt>
		  <dd>
		    {{#address}}
		    <label for="address.street0">Street 0</label>
		    <input type="text" id="address.street0" value="{{street0}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.street1">Street 1</label>
		    <input type="text" id="address.street1" value="{{street1}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.street2">Street 2</label>
		    <input type="text" id="address.street2" value="{{street2}}" class="text ui-widget-content ui-corner-all" />
		    <label for="address.city">City</label>
		    <input type="text" name="address.city" id="address.city" value="{{city}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.province">State/Province</label>
		    <input type="text" name="address.province" id="address.province" value="{{province}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.country">Country</label>
		    <input type="text" name="address.country" id="address.country" value="{{country}}" class="text ui-widget-content ui-corner-all"/>
		    <label for="address.postalcode">Postal code</label>
		    <input type="text" name="address.postalcode" id="address.postalcode" value="{{postalcode}}" class="text ui-widget-content ui-corner-all"/>
		    {{/address}}
		  </dd>
		</dl>
		
		<dl>
		  <dt>Contact</dt>
		  <dd>
		    {{#contact}}
		    <label for="contact.firstname">First Name</label>
		    <input type="text" id="contact.firstname" value="{{firstname}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.lastname">Last Name</label>
		    <input type="text" id="contact.lastname" value="{{lastname}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.website">Web site</label>
		    <input type="text" id="contact.website" value="{{website}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.email">e-mail</label>
		    <input type="text" id="contact.email" value="{{email}}" class="text ui-widget-content ui-corner-all" />
		    <label for="contact.phone">Phone</label>
		    <input type="text" id="contact.phone" value="{{phone}}" class="text ui-widget-content ui-corner-all" />
		    {{/contact}}
		  </dd>
		</dl>
		<label for="user">Master User ID</label>
		<input type="text" name="user" id="user" value="{{user}}" class="text ui-widget-content ui-corner-all" />
		<label for="password">Master Password</label>
		<input type="password" name="password" id="password" value="{{password}}" class="text ui-widget-content ui-corner-all" />
	      </fieldset>
	    </form>
	  </div>
	  <input type="button" class="ui-button ui-widget ui-state-default ui-corner-all" id="modify-store" value="Edit" />
	  <a href="#/company/{{_id}}/stores/{{name}}/terminals"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
		   <span class="ui-button-text">Terminal Manager</span>
		   </button></a>
	   <a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Back</span>
	   </button></a>
	  <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Menus</span>
	   </button></a>
	  {{/store}}
	</table>
      </script>   

      <script id="modify_terminal_page_TMP" type="text/html">
	<table border="1">
	  <h1>Modify Terminal</h1>
	  <div>
	    <form>
	      <fieldset>
		{{#terminal}}
		<label for="terminal-id">Terminal ID</label>
		<input type="text" id="terminal-id" class="text ui-widget-content ui-corner-all" value="{{id}}" disabled="true" />
		<!--<label for="mobile-payment">Mobile-Payment</label>
		<input type="checkbox" id="mobile-payment" class="text ui-widget-content ui-corner-all" {{#mobilePayment}} checked="true" {{/mobilePayment}} />
		<label for="debit-payment">Debit-Payment</label>
		<input type="checkbox" id="debit-payment" class="text ui-widget-content ui-corner-all" {{#debitPayment}} checked="true" {{/debitPayment}}/>
		<label for="credit-payment">Credit-Payment</label>
		<input type="checkbox" id="credit-payment" class="text ui-widget-content ui-corner-all" {{#creditPayment}} checked="true" {{/creditPayment}} />
		{{#mobQRedits}}
		<label for="bonus-codes">MobQRedits Bonus Codes (comma delimited list)</label>
		<input type="text" id="bonus-codes" class="text ui-widget-content ui-corner-all" value="{{#bonusCodes}}{{.}},{{/bonusCodes}}"/>
		<label for="convert-percentage">MobQRedits Conversion Percentage</label>
		<input type="text" id="convert-percentage" class="text ui-widget-content ui-corner-all" value="{{convertPercentage}}" />
		{{/mobQRedits}}-->
	      </fieldset>
	    </form>
	  </div>
	  <input type="button" class="ui-button ui-widget ui-state-default ui-corner-all" id="modify-terminal" value="modify terminal" />
	  <a href="javascript:history.go(-1)"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Back</span>
	   </button></a>
	   <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Menus</span>
	   </button></a>
	   <a href="./mainMenus.html"><button class="ui-button ui-button-text-only ui-widget ui-state-default ui-corner-all">
	   <span class="ui-button-text">Install</span>
	   </button></a>
	  {{/terminal}}
	</table>
      </script> 

</head>

<body></body>
</html>
